<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading... - Shiva Fabrications</title>
    <meta name="description" content="Shiva Fabrications provides expert industrial fabrication services.">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
/* Global Styles */
:root {
  /* Dark theme (default) */
  --primary-color: #00c6ff;
  --primary-dark: #0099cc;
  --primary-light: #33d1ff;
  --secondary-color: #ff6b6b;
  --dark-bg: #121212;
  --darker-bg: #0a0a0a;
  --card-bg: #1e1e1e;
  --card-hover: #252525;
  --border-color: #333;
  --text-primary: #ffffff;
  --text-secondary: #b0b0b0;
  --text-muted: #808080;
  --success-color: #4caf50;
  --warning-color: #ff9800;
  --danger-color: #f44336;
  --gradient-primary: linear-gradient(135deg, #00c6ff 0%, #0072ff 100%);
  --gradient-secondary: linear-gradient(135deg, #ff6b6b 0%, #ff3366 100%);
  --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
  --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
  --transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  --border-radius: 8px;
  --border-radius-lg: 12px;
  --border-radius-sm: 4px;
  --header-height: 80px;
}

/* Light theme */
[data-theme="light"] {
  --primary-color: #0072ff;
  --primary-dark: #0058cc;
  --primary-light: #3390ff;
  --secondary-color: #ff5252;
  --dark-bg: #f8f9fa;
  --darker-bg: #f1f3f5;
  --card-bg: #ffffff;
  --card-hover: #f8f9fa;
  --border-color: #e9ecef;
  --text-primary: #212529;
  --text-secondary: #495057;
  --text-muted: #6c757d;
  --gradient-primary: linear-gradient(135deg, #0072ff 0%, #00c6ff 100%);
  --gradient-secondary: linear-gradient(135deg, #ff5252 0%, #ff3366 100%);
  --box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);
  --card-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  font-family: 'Poppins', 'Segoe UI', Roboto, sans-serif;
  line-height: 1.6;
  color: var(--text-primary);
  background-color: var(--dark-bg);
  overflow-x: hidden;
  min-height: 100vh;
  scroll-behavior: smooth;
}

a {
  text-decoration: none;
  color: var(--primary-color);
  transition: var(--transition);
}

a:hover {
  color: var(--primary-light);
}

ul {
  list-style: none;
}

img {
  max-width: 100%;
  height: auto;
  display: block;
}

.container {
  width: 100%;
  max-width: 1200px;
  margin: 0 auto;
  padding: 0 20px;
}

section {
  padding: 100px 0;
  position: relative;
}

.btn {
  display: inline-block;
  padding: 14px 32px;
  border-radius: var(--border-radius);
  font-weight: 600;
  text-transform: uppercase;
  font-size: 0.9rem;
  letter-spacing: 1px;
  transition: var(--transition);
  cursor: pointer;
  border: none;
  text-align: center;
  position: relative;
  overflow: hidden;
  z-index: 1;
}

.btn::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: -2;
}

.btn::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.2);
  transition: all 0.3s;
  z-index: -1;
}

.btn:hover::before {
  width: 100%;
}

.btn-primary {
  background: var(--gradient-primary);
  color: white;
  box-shadow: 0 4px 15px rgba(0, 198, 255, 0.3);
}

.btn-primary:hover {
  box-shadow: 0 8px 25px rgba(0, 198, 255, 0.5);
  transform: translateY(-2px);
  color: white;
}

.btn-secondary {
  background: var(--gradient-secondary);
  color: white;
  box-shadow: 0 4px 15px rgba(255, 107, 107, 0.3);
}

.btn-secondary:hover {
  box-shadow: 0 8px 25px rgba(255, 107, 107, 0.5);
  transform: translateY(-2px);
  color: white;
}

/* Toast Notifications */
.toast {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background-color: var(--card-bg);
  border-radius: var(--border-radius);
  padding: 15px 20px;
  box-shadow: var(--box-shadow);
  display: flex;
  align-items: center;
  min-width: 300px;
  max-width: 450px;
  z-index: 9999;
  transform: translateY(100px);
  opacity: 0;
  visibility: hidden;
  transition: transform 0.3s ease, opacity 0.3s ease, visibility 0.3s ease;
  border-left: 4px solid var(--primary-color);
}

.toast.show {
  transform: translateY(0);
  opacity: 1;
  visibility: visible;
}

.toast-icon {
  margin-right: 15px;
  font-size: 1.5rem;
  color: var(--primary-color);
  flex-shrink: 0;
}

.toast-content {
  flex: 1;
}

.toast-title {
  font-weight: 600;
  margin-bottom: 5px;
  color: var(--text-primary);
}

.toast-message {
  color: var(--text-secondary);
  font-size: 0.9rem;
}

.toast-close {
  margin-left: 15px;
  cursor: pointer;
  color: var(--text-muted);
  transition: var(--transition);
}

.toast-close:hover {
  color: var(--text-primary);
}

/* Toast types */
.toast.success {
  border-left-color: var(--success-color);
}

.toast.success .toast-icon {
  color: var(--success-color);
}

.toast.error {
  border-left-color: var(--danger-color);
}

.toast.error .toast-icon {
  color: var(--danger-color);
}

.toast.warning {
  border-left-color: var(--warning-color);
}

.toast.warning .toast-icon {
  color: var(--warning-color);
}

/* Theme Toggle Button */
.theme-toggle {
  position: fixed;
  bottom: 30px;
  left: 30px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--card-bg);
  color: var(--text-secondary);
  border: 1px solid rgba(128, 128, 128, 0.2);
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  z-index: 999;
  box-shadow: var(--card-shadow);
  transition: var(--transition);
}

.theme-toggle:hover {
  transform: translateY(-5px);
  box-shadow: var(--box-shadow);
  color: var(--primary-color);
}

/* Header Styles */
header {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  z-index: 1000;
  background-color: rgba(18, 18, 18, 0.95);
  backdrop-filter: blur(10px);
  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
  transition: var(--transition);
  height: var(--header-height);
}

[data-theme="light"] header {
  background-color: rgba(248, 249, 250, 0.95);
  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.1);
}

header.scrolled {
  background-color: rgba(10, 10, 10, 0.98);
  height: 70px;
}

[data-theme="light"] header.scrolled {
  background-color: rgba(241, 243, 245, 0.98);
}

header .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  height: 100%;
}

.logo img {
  max-height: 50px;
  transition: var(--transition);
}

header.scrolled .logo img {
  max-height: 40px;
}

.nav-links {
  display: flex;
  align-items: center;
}

.nav-links li {
  margin-left: 35px;
  position: relative;
}

.nav-links a {
  color: var(--text-secondary);
  font-weight: 500;
  font-size: 1rem;
  position: relative;
  padding: 8px 0;
  transition: var(--transition);
}

.nav-links a::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 0;
  height: 2px;
  background: var(--gradient-primary);
  transition: var(--transition);
}

.nav-links a:hover,
.nav-links a.active {
  color: var(--text-primary);
}

.nav-links a:hover::after,
.nav-links a.active::after {
  width: 100%;
}

.hamburger {
  display: none;
  cursor: pointer;
  z-index: 1010;
}

.hamburger .line {
  width: 30px;
  height: 2px;
  background-color: var(--text-primary);
  margin: 6px;
  transition: var(--transition);
}

/* Mobile Navigation Overlay and Close Button */
.mobile-nav-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    z-index: 999;
    backdrop-filter: blur(3px);
}

[data-theme="light"] .mobile-nav-overlay {
    background-color: rgba(0, 0, 0, 0.2);
}

.mobile-nav-close {
    display: none;
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    color: var(--text-primary);
    font-size: 1.5rem;
    cursor: pointer;
    width: 40px;
    height: 40px;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.1);
    transition: var(--transition);
}

.mobile-nav-close:hover {
    background-color: var(--primary-color);
    color: white;
    transform: rotate(90deg);
}

/* Footer */
footer {
  background-color: var(--darker-bg);
  color: var(--text-primary);
  padding: 80px 0 0;
  position: relative;
  overflow: hidden;
}

footer::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 5px;
  background: var(--gradient-primary);
}

.footer-content {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: 50px;
  margin-bottom: 50px;
  position: relative;
  z-index: 1;
}

.footer-logo img {
  max-height: 60px;
  margin-bottom: 25px;
}

.footer-logo p {
  color: var(--text-secondary);
  line-height: 1.8;
}

.footer-links h3,
.footer-services h3,
.footer-contact h3 {
  font-size: 1.3rem;
  margin-bottom: 25px;
  position: relative;
  padding-bottom: 15px;
  color: var(--text-primary);
}

.footer-links h3::after,
.footer-services h3::after,
.footer-contact h3::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 0;
  width: 40px;
  height: 3px;
  background: var(--primary-color);
}

.footer-links ul li,
.footer-services ul li {
  margin-bottom: 15px;
}

.footer-links ul li a,
.footer-services ul li {
  color: var(--text-secondary);
  transition: var(--transition);
  position: relative;
  padding-left: 0;
  display: inline-block;
}

.footer-links ul li a::before {
  content: '\f054';
  font-family: 'Font Awesome 5 Free';
  font-weight: 900;
  position: absolute;
  left: -15px;
  top: 2px;
  font-size: 0.7rem;
  color: var(--primary-color);
  opacity: 0;
  transition: var(--transition);
}

.footer-links ul li a:hover {
  color: var(--text-primary);
  padding-left: 20px;
}

[data-theme="light"] .footer-links ul li a:hover {
  color: var(--primary-color);
}

.footer-links ul li a:hover::before {
  opacity: 1;
  left: 0;
}

.footer-contact p {
  color: var(--text-secondary);
  margin-bottom: 20px;
  display: flex;
  align-items: flex-start;
}

.footer-contact p i {
  margin-right: 15px;
  color: var(--primary-color);
  font-size: 1.2rem;
  margin-top: 5px;
}

.social-icons {
  display: flex;
  gap: 15px;
  margin-top: 25px;
}

.social-icons a {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: 50%;
  background: var(--card-bg);
  color: var(--text-secondary);
  transition: var(--transition);
  border: 1px solid rgba(255, 255, 255, 0.1);
}

[data-theme="light"] .social-icons a {
  background: var(--card-bg);
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.social-icons a:hover {
  transform: translateY(-5px);
  color: white;
  border-color: var(--primary-color);
  background: var(--primary-color);
}

.footer-bottom {
  text-align: center;
  padding: 25px 0;
  border-top: 1px solid rgba(255, 255, 255, 0.05);
  position: relative;
  z-index: 1;
}

[data-theme="light"] .footer-bottom {
  border-top: 1px solid rgba(0, 0, 0, 0.05);
}

.footer-bottom p {
  color: var(--text-secondary);
}

/* Scroll to top button */
.scroll-to-top {
  position: fixed;
  bottom: 30px;
  right: 30px;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background: var(--gradient-primary);
  color: white;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.2rem;
  opacity: 0;
  visibility: hidden;
  transition: all 0.3s ease;
  z-index: 999;
  box-shadow: 0 5px 15px rgba(0, 198, 255, 0.4);
}

.scroll-to-top.show {
  opacity: 1;
  visibility: visible;
}

.scroll-to-top:hover {
  transform: translateY(-5px);
  box-shadow: 0 8px 25px rgba(0, 198, 255, 0.6);
}

/* Loading Animation */
.loader {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--darker-bg);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 9999;
  transition: opacity 0.5s ease, visibility 0.5s ease;
}

.loader.hidden {
  opacity: 0;
  visibility: hidden;
}

.loader-content {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.loader-spinner {
  width: 60px;
  height: 60px;
  border: 3px solid rgba(0, 198, 255, 0.1);
  border-top-color: var(--primary-color);
  border-radius: 50%;
  animation: spin 1.5s linear infinite;
}

.loader-logo {
  margin-bottom: 30px;
  max-width: 120px;
  animation: pulse 2s infinite;
}

.loader-text {
  margin-top: 25px;
  color: var(--text-primary);
  font-size: 1.2rem;
  letter-spacing: 3px;
  font-weight: 500;
  position: relative;
}

.loader-text:after {
  content: '...';
  position: absolute;
  animation: dots 1.5s infinite;
  width: 30px;
  text-align: left;
}

@keyframes spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

@keyframes pulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.7;
  }
}

@keyframes dots {
  0%, 20% {
    content: '.';
  }
  40% {
    content: '..';
  }
  60%, 100% {
    content: '...';
  }
}

/* 404 Page Styles */
.error-section {
    min-height: 60vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 100px 0;
    text-align: center;
}

.error-content {
    max-width: 600px;
    margin: 0 auto;
    background-color: var(--card-bg);
    border-radius: var(--border-radius-lg);
    padding: 60px 40px;
    box-shadow: var(--card-shadow);
    border: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
    overflow: hidden;
    animation: fadeInUp 0.8s ease;
}

[data-theme="light"] .error-content {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.error-content::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 5px;
    background: var(--gradient-primary);
}

.error-content h1 {
    font-size: 120px;
    font-weight: 700;
    margin-bottom: 0;
    background: var(--gradient-primary);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    line-height: 1;
}

.error-content h2 {
    font-size: 32px;
    color: var(--text-primary);
    margin-bottom: 20px;
}

.error-content p {
    color: var(--text-secondary);
    font-size: 18px;
    margin-bottom: 30px;
}

.error-actions {
    display: flex;
    justify-content: center;
    gap: 20px;
}

.page-loading {
    min-height: 60vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 100px 0;
}

.spinner {
    width: 60px;
    height: 60px;
    border: 4px solid rgba(0, 198, 255, 0.1);
    border-radius: 50%;
    border-top-color: var(--primary-color);
    animation: spin 1s linear infinite;
    margin-bottom: 20px;
}

.page-loading p {
    color: var(--text-secondary);
    font-size: 18px;
}

/* Project Detail Styles */
.project-header {
    background-color: var(--darker-bg);
    color: var(--text-primary);
    padding: 150px 0 80px;
    position: relative;
    overflow: hidden;
}

.project-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 198, 255, 0.1) 0%, rgba(255, 107, 107, 0.1) 100%);
    z-index: 0;
}

.project-header h1 {
    font-size: 2.5rem;
    margin-bottom: 25px;
    color: var(--text-primary);
    position: relative;
    z-index: 1;
}

.project-meta {
    display: flex;
    gap: 30px;
    flex-wrap: wrap;
    position: relative;
    z-index: 1;
}

.project-meta span {
    display: flex;
    align-items: center;
    color: var(--text-secondary);
}

.project-meta span i {
    margin-right: 10px;
    color: var(--primary-color);
}

.project-details {
    padding: 80px 0;
    background-color: var(--dark-bg);
}

.project-details .container {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 50px;
}

.project-overview {
    margin-bottom: 50px;
}

.project-overview h2,
.project-scope h2,
.project-challenges h2,
.project-results h2,
.project-feedback h2 {
    font-size: 1.8rem;
    color: var(--text-primary);
    margin-bottom: 25px;
    position: relative;
    padding-bottom: 15px;
}

.project-overview h2::after,
.project-scope h2::after,
.project-challenges h2::after,
.project-results h2::after,
.project-feedback h2::after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 50px;
    height: 3px;
    background: var(--primary-color);
}

.project-overview p,
.project-scope p,
.project-challenges p,
.project-results p {
    color: var(--text-secondary);
    line-height: 1.8;
    margin-bottom: 20px;
}

.project-gallery {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 20px;
    margin-bottom: 50px;
}

.gallery-item {
    border-radius: var(--border-radius);
    overflow: hidden;
    height: 200px;
    position: relative;
    cursor: pointer;
    box-shadow: var(--card-shadow);
    transition: var(--transition);
}

.gallery-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow);
}

.gallery-item::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.6), transparent);
    transition: var(--transition);
    opacity: 0.7;
}

.gallery-item:hover::after {
    opacity: 0.3;
}

.gallery-item img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: var(--transition);
}

.gallery-item:hover img {
    transform: scale(1.1);
}

/* Image Viewer Modal */
.image-viewer-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10000;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.image-viewer-modal.active {
    opacity: 1;
    visibility: visible;
}

.image-viewer-content {
    position: relative;
    max-width: 90%;
    max-height: 90%;
}

.image-viewer-img {
    max-width: 100%;
    max-height: 90vh;
    object-fit: contain;
    border: 2px solid white;
    border-radius: 4px;
    box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
}

.image-viewer-close {
    position: absolute;
    top: -40px;
    right: 0;
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.2);
    border: none;
    border-radius: 50%;
    color: white;
    font-size: 20px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
}

.image-viewer-close:hover {
    background-color: var(--primary-color);
}

.project-scope ul,
.project-results ul {
    margin-bottom: 30px;
}

.project-scope ul li,
.project-results ul li {
    margin-bottom: 15px;
    position: relative;
    padding-left: 30px;
    color: var(--text-secondary);
    line-height: 1.7;
}

.project-scope ul li::before,
.project-results ul li::before {
    content: '\f00c';
    font-family: 'Font Awesome 5 Free';
    font-weight: 900;
    color: var(--primary-color);
    position: absolute;
    left: 0;
    top: 4px;
}

.challenge-item {
    margin-bottom: 30px;
    padding: 25px;
    background-color: var(--card-bg);
    border-radius: var(--border-radius);
    border-left: 4px solid var(--primary-color);
    box-shadow: var(--card-shadow);
    transition: var(--transition);
}

.challenge-item:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow);
}

.challenge-item h3 {
    font-size: 1.3rem;
    color: var(--text-primary);
    margin-bottom: 15px;
}

.challenge-item p {
    color: var(--text-secondary);
    line-height: 1.7;
}

.challenge-item h4 {
    font-size: 1.1rem;
    color: var(--primary-color);
    margin: 20px 0 10px;
}

.sidebar-widget {
    background-color: var(--card-bg);
    padding: 30px;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--card-shadow);
    margin-bottom: 30px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: var(--transition);
}

.sidebar-widget:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow);
}

[data-theme="light"] .sidebar-widget {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.sidebar-widget h3 {
    font-size: 1.5rem;
    color: var(--text-primary);
    margin-bottom: 25px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    position: relative;
}

[data-theme="light"] .sidebar-widget h3 {
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

.sidebar-widget h3::after {
    content: '';
    position: absolute;
    bottom: -1px;
    left: 0;
    width: 50px;
    height: 3px;
    background: var(--primary-color);
}
.spec-list li {
    margin-bottom: 15px;
    color: var(--text-secondary);
    display: flex;
    justify-content: space-between;
    padding-bottom: 10px;
    border-bottom: 1px dashed rgba(255, 255, 255, 0.05);
}

[data-theme="light"] .spec-list li {
    border-bottom: 1px dashed rgba(0, 0, 0, 0.05);
}

.spec-list li:last-child {
    border-bottom: none;
}

.spec-list li strong {
    color: var(--text-primary);
    margin-right: 5px;
}

.similar-projects {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 15px;
}

.similar-project {
    display: block;
    overflow: hidden;
    border-radius: var(--border-radius);
    position: relative;
    transition: var(--transition);
}

.similar-project:hover {
    transform: translateY(-5px);
}

.similar-project img {
    border-radius: var(--border-radius);
    margin-bottom: 10px;
    height: 100px;
    object-fit: cover;
    transition: var(--transition);
}

.similar-project:hover img {
    transform: scale(1.1);
}

.similar-project h4 {
    font-size: 1rem;
    color: var(--text-secondary);
    transition: var(--transition);
}

.similar-project:hover h4 {
    color: var(--primary-color);
}

.project-navigation {
    background-color: var(--darker-bg);
    padding: 30px 0;
}

.nav-links {
    display: flex;
    justify-content: space-between;
    align-items: center;
}

.back-to-projects {
    display: flex;
    align-items: center;
    color: var(--text-secondary);
    font-weight: 500;
    padding: 10px 20px;
    border-radius: var(--border-radius);
    background-color: var(--card-bg);
    transition: var(--transition);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme="light"] .back-to-projects {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.back-to-projects:hover {
    background-color: var(--primary-color);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 198, 255, 0.3);
}

.back-to-projects i {
    margin-right: 10px;
}

.project-nav {
    display: flex;
    gap: 20px;
}

.prev-project,
.next-project {
    display: flex;
    align-items: center;
    color: var(--text-secondary);
    font-weight: 500;
    padding: 10px 20px;
    border-radius: var(--border-radius);
    background-color: var(--card-bg);
    transition: var(--transition);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme="light"] .prev-project,
[data-theme="light"] .next-project {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.prev-project:hover,
.next-project:hover {
    background-color: var(--primary-color);
    color: white;
    transform: translateY(-3px);
    box-shadow: 0 5px 15px rgba(0, 198, 255, 0.3);
}

.prev-project i {
    margin-right: 10px;
}

.next-project i {
    margin-left: 10px;
}

/* Feedback Section */
.testimonial-card {
    background-color: var(--card-bg);
    padding: 30px;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--card-shadow);
    position: relative;
    margin-bottom: 30px;
    border: 1px solid rgba(255, 255, 255, 0.05);
    transition: var(--transition);
}

[data-theme="light"] .testimonial-card {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.testimonial-card:hover {
    transform: translateY(-5px);
    box-shadow: var(--box-shadow);
    border-color: rgba(0, 198, 255, 0.2);
}

.quote-icon {
    font-size: 3rem;
    color: rgba(0, 198, 255, 0.1);
    position: absolute;
    top: 20px;
    left: 20px;
}

[data-theme="light"] .quote-icon {
    color: rgba(0, 114, 255, 0.1);
}

.testimonial-text {
    position: relative;
    z-index: 1;
    margin-bottom: 20px;
    color: var(--text-secondary);
    line-height: 1.8;
}

.client-info h4 {
    font-size: 1.1rem;
    color: var(--primary-color);
    margin-bottom: 5px;
}

.client-info p {
    color: var(--text-secondary);
    font-size: 0.9rem;
}

.rating {
    display: flex;
    margin-bottom: 15px;
}

.rating i {
    color: #ffc107;
    margin-right: 5px;
}

.no-feedback {
    background-color: var(--card-bg);
    padding: 30px;
    border-radius: var(--border-radius-lg);
    text-align: center;
    margin-bottom: 30px;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

[data-theme="light"] .no-feedback {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.no-feedback i {
    font-size: 3rem;
    color: var(--primary-color);
    margin-bottom: 20px;
    opacity: 0.5;
}

.no-feedback p {
    color: var(--text-secondary);
}

/* Feedback Form */
.feedback-form-section {
    padding: 80px 0;
    background-color: var(--dark-bg);
}

.feedback-form-container {
    background-color: var(--card-bg);
    padding: 50px;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--card-shadow);
    max-width: 800px;
    margin: 0 auto;
    border: 1px solid rgba(255, 255, 255, 0.05);
    animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

[data-theme="light"] .feedback-form-container {
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.form-header {
    text-align: center;
    margin-bottom: 40px;
}

.form-header h2 {
    font-size: 2rem;
    color: var(--text-primary);
    margin-bottom: 15px;
    position: relative;
    padding-bottom: 15px;
    display: inline-block;
}

.form-header h2:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 80px;
    height: 3px;
    background: var(--gradient-primary);
}

.form-header p {
    color: var(--text-secondary);
    font-size: 1.1rem;
}

.feedback-form {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
}

.form-group {
    margin-bottom: 20px;
}

.form-group.full-width {
    grid-column: span 2;
}

.form-group label {
    display: block;
    margin-bottom: 10px;
    color: var(--text-primary);
    font-weight: 500;
}

.form-group input,
.form-group textarea {
    width: 100%;
    padding: 15px;
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: var(--border-radius);
    font-size: 1rem;
    color: var(--text-primary);
    background-color: rgba(255, 255, 255, 0.05);
    transition: var(--transition);
}

[data-theme="light"] .form-group input,
[data-theme="light"] .form-group textarea {
    background-color: rgba(0, 0, 0, 0.02);
    border: 1px solid rgba(0, 0, 0, 0.1);
}

.form-group input:focus,
.form-group textarea:focus {
    border-color: var(--primary-color);
    outline: none;
    box-shadow: 0 0 0 3px rgba(0, 198, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.07);
}

[data-theme="light"] .form-group input:focus,
[data-theme="light"] .form-group textarea:focus {
    background-color: rgba(0, 0, 0, 0.04);
}

.form-group textarea {
    resize: vertical;
    min-height: 150px;
}

.rating-selector {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
}

.star-rating {
    display: flex;
    gap: 10px;
    font-size: 2rem;
    margin-bottom: 15px;
}

.star-rating i {
    cursor: pointer;
    color: #ccc;
    transition: var(--transition);
}

.star-rating i:hover {
    transform: scale(1.2);
}

.star-rating i.fas {
    color: #ffc107;
}

.rating-text {
    font-size: 1rem;
    color: var(--text-secondary);
    margin-top: 5px;
    font-weight: 500;
}

.form-success {
    text-align: center;
    padding: 40px 30px;
    animation: fadeIn 0.5s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.success-icon {
    font-size: 5rem;
    color: var(--success-color);
    margin-bottom: 30px;
    animation: scaleIn 0.5s ease;
}

@keyframes scaleIn {
    from { transform: scale(0); }
    to { transform: scale(1); }
}

.form-success h2 {
    font-size: 2rem;
    color: var(--text-primary);
    margin-bottom: 20px;
}

.form-success p {
    color: var(--text-secondary);
    margin-bottom: 30px;
    font-size: 1.1rem;
    line-height: 1.6;
}

/* Bill Styles */
.bill-container {
    max-width: 900px;
    margin: 100px auto 50px;
    background-color: #fff;
    color: #333;
    border-radius: var(--border-radius-lg);
    box-shadow: var(--box-shadow);
    overflow: hidden;
    animation: fadeInUp 0.5s ease;
}

.bill-header {
    background-color: #f8f9fa;
    padding: 30px;
    border-bottom: 1px solid #eee;
}

.bill-header-content {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
}

.bill-company {
    flex: 1;
}

.bill-company h2 {
    font-size: 1.8rem;
    color: #2c3e50;
    margin-bottom: 10px;
}

.bill-company p {
    margin: 5px 0;
    color: #555;
    font-size: 0.9rem;
}

.bill-title {
    text-align: right;
}

.bill-title h1 {
    font-size: 2.2rem;
    color: var(--primary-color);
    margin-bottom: 10px;
}

.bill-details {
    padding: 30px;
}

.bill-info-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 30px;
    flex-wrap: wrap;
    gap: 20px;
}

.bill-to {
    flex: 1;
    min-width: 250px;
}

.bill-to h3, .bill-meta h3 {
    font-size: 1.2rem;
    color: #2c3e50;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 1px solid #eee;
}

.bill-to p {
    margin: 5px 0;
    color: #555;
}

.bill-meta {
    flex: 1;
    min-width: 250px;
}

.bill-meta-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
}

.bill-meta-label {
    font-weight: 600;
    color: #555;
}

.bill-meta-value {
    color: #333;
}

.bill-items {
    margin-bottom: 30px;
    overflow-x: auto;
}

.bill-items table {
    width: 100%;
    border-collapse: collapse;
    min-width: 600px;
}

.bill-items th {
    background-color: #f8f9fa;
    color: #333;
    padding: 12px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #eee;
}

.bill-items td {
    padding: 12px;
    border-bottom: 1px solid #eee;
    color: #555;
}

.bill-items .text-right {
    text-align: right;
}

.bill-total {
    margin-top: 20px;
    border-top: 2px solid #eee;
    padding-top: 20px;
}

.bill-total-row {
    display: flex;
    justify-content: flex-end;
    margin-bottom: 10px;
}

.bill-total-label {
    width: 150px;
    text-align: right;
    padding-right: 20px;
    font-weight: 600;
    color: #555;
}

.bill-total-value {
    width: 150px;
    text-align: right;
    color: #333;
}

.bill-grand-total {
    font-size: 1.2rem;
    font-weight: 700;
    color: #2c3e50;
}

.bill-words {
    margin: 20px 0;
    font-style: italic;
    color: #555;
    padding: 10px;
    background-color: #f8f9fa;
    border-radius: 5px;
}

.bill-footer {
    display: flex;
    justify-content: space-between;
    margin-top: 50px;
    padding-top: 30px;
    border-top: 1px solid #eee;
}

.bill-signature {
    width: 40%;
    text-align: center;
}

.bill-signature-title {
    margin-bottom: 50px;
    font-weight: 600;
    color: #555;
}

.bill-signature-line {
    width: 100%;
    border-top: 1px solid #555;
    margin-bottom: 10px;
}

.bill-signature-name {
    font-weight: 600;
    color: #333;
}

.bill-notes {
    margin-top: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 5px;
    font-size: 0.9rem;
    color: #555;
}

.bill-bank {
    margin-top: 30px;
    background-color: #f8f9fa;
    padding: 20px;
    border-radius: 5px;
}

.bill-bank h3 {
    font-size: 1.1rem;
    color: #2c3e50;
    margin-bottom: 15px;
}

.bill-bank p {
    margin: 5px 0;
    color: #555;
}

.bill-actions {
    margin: 30px auto;
    display: flex;
    justify-content: center;
    gap: 20px;
    max-width: 600px;
    padding: 0 20px;
}

.btn-download, .btn-print {
    background-color: var(--primary-color);
    color: white;
    padding: 15px 30px;
    border-radius: var(--border-radius);
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
    border: none;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(0, 198, 255, 0.3);
    width: 220px;
    text-align: center;
}

.btn-download i, .btn-print i {
    margin-right: 10px;
    font-size: 1.2rem;
}

.btn-download:hover, .btn-print:hover {
    background-color: var(--primary-dark);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 198, 255, 0.4);
}

.feedback-link {
    margin: 30px 15px;
    text-align: center;
    padding: 25px;
    background-color: #f0f9ff;
    border-radius: 8px;
    border: 1px solid rgba(0, 198, 255, 0.3);
    box-shadow: 0 4px 15px rgba(0, 198, 255, 0.1);
    animation: pulse 2s infinite;
}

.feedback-link p {
    margin-bottom: 15px;
    color: #333;
    font-size: 1.1rem;
}

.feedback-link a {
    display: inline-block;
    padding: 12px 25px;
    background-color: var(--primary-color);
    color: white;
    font-weight: 600;
    border-radius: var(--border-radius);
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(0, 198, 255, 0.3);
}

.feedback-link a:hover {
    background-color: var(--primary-dark);
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0, 198, 255, 0.4);
}

/* Print styles */
@media print {
    body * {
        visibility: hidden;
    }
    .bill-container, .bill-container * {
        visibility: visible;
    }
    .bill-container {
        position: absolute;
        left: 0;
        top: 0;
        width: 100%;
        margin: 0;
        padding: 0;
        box-shadow: none;
    }
    .bill-actions, .feedback-link, .btn-download, .btn-print {
        display: none !important;
    }
    header, footer, .scroll-to-top {
        display: none !important;
    }
}

/* Page Header Styles */
.page-header {
    background-color: var(--darker-bg);
    padding: 150px 0 80px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.page-header::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, rgba(0, 198, 255, 0.1) 0%, rgba(255, 107, 107, 0.1) 100%);
    z-index: 0;
}

.page-header h1 {
    font-size: 3rem;
    margin-bottom: 15px;
    color: var(--text-primary);
    position: relative;
    z-index: 1;
}

.page-header p {
    color: var(--text-secondary);
    font-size: 1.2rem;
    position: relative;
    z-index: 1;
}

/* Animations */
@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

@keyframes scaleIn {
    from { transform: scale(0); }
    to { transform: scale(1); }
}

/* Responsive Styles */
@media (max-width: 991.98px) {
    /* Mobile navigation */
    .hamburger {
        display: block;
        margin-left: 15px;
    }
    
    .nav-links {
        position: fixed;
        top: 0;
        right: -100%;
        width: 80%;
        max-width: 320px;
        height: 100vh;
        background-color: var(--darker-bg);
        flex-direction: column;
        align-items: flex-start;
        padding: 100px 30px 30px;
        transition: var(--transition);
        box-shadow: -5px 0 30px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        overflow-y: auto;
    }
    
    .nav-links.active {
        right: 0;
    }
    
    .nav-links li {
        margin: 12px 0;
        width: 100%;
    }
}
/* Mobile Sidebar Fixes */
@media (max-width: 991.98px) {
    /* Theme toggle position */
    .theme-toggle {
        position: fixed;
        top: 20px;
        right: 80px;
        left: auto;
        width: 40px;
        height: 40px;
        font-size: 1rem;
        z-index: 1001;
    }
    
    /* Improved hamburger menu */
    .hamburger {
        display: block;
        z-index: 1001;
        cursor: pointer;
        margin-right: 10px;
    }
    
    .hamburger .line {
        width: 25px;
        height: 2px;
        margin: 5px 0;
        transition: var(--transition);
    }
    
    /* Mobile nav sidebar */
    .nav-links {
        position: fixed;
        top: 0;
        right: -100%;
        width: 280px;
        height: 100vh;
        background-color: var(--darker-bg);
        flex-direction: column;
        align-items: flex-start;
        padding: 80px 25px 30px;
        transition: all 0.4s ease;
        box-shadow: -5px 0 30px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        overflow-y: auto;
    }
    
    [data-theme="light"] .nav-links {
        background-color: var(--card-bg);
        box-shadow: -5px 0 30px rgba(0, 0, 0, 0.1);
    }
    
    .nav-links.active {
        right: 0;
    }
    
    .nav-links li {
        margin: 15px 0;
        width: 100%;
    }
    
    .nav-links a {
        display: block;
        width: 100%;
        padding: 10px 0;
        font-size: 1.1rem;
    }
    
    /* Improved close button */
    .mobile-nav-close {
        display: flex;
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.1);
        border: none;
        color: var(--text-primary);
        font-size: 1.2rem;
        cursor: pointer;
        width: 40px;
        height: 40px;
        align-items: center;
        justify-content: center;
        border-radius: 50%;
        transition: var(--transition);
    }
    
    .mobile-nav-close:hover {
        background-color: var(--primary-color);
        color: white;
        transform: rotate(90deg);
    }
    
    /* Overlay for mobile nav */
    .mobile-nav-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.7);
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all 0.3s ease;
        backdrop-filter: blur(2px);
    }
    
    .mobile-nav-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    /* Prevent scrolling when menu is open */
    body.no-scroll {
        overflow: hidden;
    }
    
    /* Project sidebar fixes for mobile */
    .project-sidebar {
        margin-top: 40px;
    }
    
    .sidebar-widget {
        padding: 25px 20px;
    }
}
/* Toast notification for mobile */
@media (max-width: 767.98px) {
    .toast {
        bottom: 20px;
        right: 20px;
        left: 20px;
        min-width: auto;
        max-width: none;
        width: calc(100% - 40px);
    }
    
    .toast-icon {
        font-size: 1.2rem;
        margin-right: 10px;
    }
    
    .toast-title {
        font-size: 0.95rem;
    }
    
    .toast-message {
        font-size: 0.85rem;
    }
}

@media (max-width: 767.98px) {
    /* Bill container improvements */
    .bill-container {
        margin: 80px 15px 30px;
        border-radius: var(--border-radius);
    }
    
    .bill-header, .bill-details {
        padding: 20px 15px;
    }
    
    /* Make table scrollable horizontally */
    .bill-items {
        overflow-x: auto;
        margin: 0 -15px;
        padding: 0 15px;
        width: calc(100% + 30px);
    }
    
    .bill-items table {
        min-width: 500px;
        font-size: 0.85rem;
    }
    
    /* Improve spacing */
    .bill-info-row {
        gap: 25px;
    }
    
    .bill-meta {
        margin-top: 10px;
    }
    
    /* Adjust actions */
    .bill-actions {
        flex-direction: column;
        padding: 0 15px;
        gap: 15px;
    }
    
    .btn-download, .btn-print {
        width: 100%;
        justify-content: center;
    }
    
    /* Feedback link */
    .feedback-link {
        margin: 20px 15px;
        padding: 20px 15px;
    }
}

@media (max-width: 480px) {
    /* Further adjustments for very small screens */
    .bill-title h1 {
        font-size: 1.6rem;
    }
    
    .bill-company h2 {
        font-size: 1.4rem;
    }
    
    .bill-company p, .bill-to p, .bill-meta-item {
        font-size: 0.9rem;
    }
    
    .bill-total-label, .bill-total-value {
        width: auto;
        padding-right: 10px;
    }
    
    .bill-total {
        margin-right: -15px;
    }
    
    /* Improve readability of totals */
    .bill-grand-total {
        font-size: 1.1rem;
        color: var(--primary-color);
    }
    
    /* Make notes and bank details more readable */
    .bill-notes, .bill-bank {
        padding: 15px;
        font-size: 0.9rem;
    }
}
        /* Comprehensive Mobile Layout Fixes */

/* Fix for project header and content */
@media (max-width: 991.98px) {
    /* Project header fixes */
    .project-header {
        padding: 120px 20px 40px;
        text-align: left;
    }
    
    .project-header h1 {
        font-size: 2rem;
        line-height: 1.2;
        margin-bottom: 20px;
        width: 100%;
        word-wrap: break-word;
    }
    
    .project-meta {
        flex-direction: column;
        gap: 10px;
        align-items: flex-start;
    }
    
    .project-meta span {
        margin-right: 0;
        font-size: 0.95rem;
    }
    
    /* Project content layout fixes */
    .project-details {
        padding: 40px 20px;
    }
    
    .project-details .container {
        display: block;
        padding: 0;
    }
    
    .project-overview, 
    .project-scope, 
    .project-challenges, 
    .project-results {
        margin-bottom: 40px;
    }
    
    .project-overview h2, 
    .project-scope h2, 
    .project-challenges h2, 
    .project-results h2 {
        font-size: 1.5rem;
        margin-bottom: 15px;
    }
    
    /* Content containers */
    .container {
        width: 100%;
        padding: 0 15px;
    }
    
    /* Gallery fixes */
    .project-gallery {
        grid-template-columns: 1fr;
        gap: 15px;
        margin-bottom: 30px;
    }
    
    .gallery-item {
        height: 180px;
    }
    
    /* Project specifications section */
    .project-sidebar {
        margin-top: 40px;
    }
    
    .sidebar-widget {
        padding: 20px;
        margin-bottom: 20px;
    }
    
    .sidebar-widget h3 {
        font-size: 1.3rem;
        margin-bottom: 15px;
    }
    
    /* Project navigation */
    .project-navigation {
        padding: 20px 0;
    }
    
    .nav-links {
        position: fixed;
        top: 0;
        left: -280px;
        width: 280px;
        height: 100vh;
        background-color: #121212;
        flex-direction: column;
        align-items: flex-start;
        padding: 100px 30px 30px;
        transition: all 0.3s ease;
        z-index: 1000;
        overflow-y: auto;
        border-right: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .nav-links.active {
        left: 0;
        right: auto;
    }
    
    /* Navigation items */
    .nav-links li {
        margin: 0;
        width: 100%;
        padding: 12px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }
    
    .nav-links li:last-child {
        border-bottom: none;
    }
    
    .nav-links a {
        display: block;
        width: 100%;
        padding: 8px 0;
        font-size: 1.1rem;
        color: var(--text-secondary);
    }
    
    .nav-links a.active {
        color: var(--primary-color);
        font-weight: 600;
    }
    
    .nav-links a.active::after {
        width: 100%;
        opacity: 1;
    }
    
    /* Header adjustments */
    header {
        height: 70px;
        background-color: rgba(18, 18, 18, 0.98);
    }
    
    header .container {
        padding: 0 15px;
    }
    
    .logo img {
        max-height: 35px;
    }
    
    /* Sidebar logo */
    .sidebar-logo {
        position: absolute;
        top: 20px;
        left: 20px;
    }
    
    .sidebar-logo img {
        height: 40px;
    }
    
    /* Better hamburger menu */
    .hamburger {
        display: block;
        margin-left: 0;
        margin-right: 0;
        cursor: pointer;
        z-index: 1001;
    }
    
    .hamburger .line {
        width: 25px;
        height: 2px;
        background-color: var(--text-primary);
        margin: 6px 0;
        transition: 0.3s;
    }
    
    /* Overlay */
    .mobile-nav-overlay {
        background-color: rgba(0, 0, 0, 0.7);
    }
    
    /* Close button */
    .mobile-nav-close {
        position: absolute;
        top: 20px;
        right: 20px;
        background: rgba(255, 255, 255, 0.05);
        color: var(--text-secondary);
    }
}

/* Project Specifications Section Fix */
.project-specifications {
    margin-top: 20px;
    padding: 25px;
    background-color: var(--card-bg);
    border-radius: var(--border-radius);
    border: 1px solid rgba(255, 255, 255, 0.05);
}

.project-specifications h2 {
    font-size: 1.5rem;
    margin-bottom: 20px;
    color: var(--text-primary);
    padding-bottom: 10px;
    border-bottom: 2px solid var(--primary-color);
}

.spec-list {
    list-style: none;
    padding: 0;
}

.spec-list li {
    display: flex;
    justify-content: space-between;
    padding: 10px 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.05);
}

.spec-list li:last-child {
    border-bottom: none;
}

/* Fixing the project overview section */
.project-content {
    margin-bottom: 40px;
}

.project-overview p {
    margin-bottom: 15px;
    line-height: 1.6;
}

/* Extra small screen fixes */
@media (max-width: 480px) {
    /* Project header further adjustments */
    .project-header {
        padding: 100px 15px 30px;
    }
    
    .project-header h1 {
        font-size: 1.8rem;
    }
    
    /* Smaller headings */
    .project-overview h2, 
    .project-scope h2, 
    .project-challenges h2, 
    .project-results h2,
    .project-specifications h2 {
        font-size: 1.3rem;
    }
    
    /* Tighter spacing */
    .project-details {
        padding: 30px 15px;
    }
    
    /* Challenge items */
    .challenge-item {
        padding: 15px;
    }
    
    .challenge-item h3 {
        font-size: 1.1rem;
    }
    
    /* Sidebar widgets */
    .sidebar-widget {
        padding: 15px;
    }
    
    /* Footer adjustments */
    footer {
        padding: 50px 0 0;
    }
    
    .footer-content {
        gap: 30px;
        margin-bottom: 30px;
    }
}

/* Light theme adjustments */
[data-theme="light"] .nav-links {
    background-color: #f8f9fa;
    border-right: 1px solid rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .nav-links li {
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .mobile-nav-close {
    background: rgba(0, 0, 0, 0.05);
}

[data-theme="light"] .spec-list li {
    border-bottom: 1px solid rgba(0, 0, 0, 0.05);
}

/* Fix for projects with long titles */
.project-header h1 {
    word-wrap: break-word;
    max-width: 100%;
    overflow-wrap: break-word;
}

/* Fix for content containers */
.container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

@media (max-width: 767.98px) {
    .container {
        padding: 0 15px;
    }
}

/* Fix for image overflow */
img {
    max-width: 100%;
    height: auto;
}

/* Better spacing for project navigation */
.project-navigation .container {
    padding: 0 15px;
}

.back-to-projects {
    padding: 10px 15px;
    font-size: 0.9rem;
}

/* Animation for sidebar */
@keyframes slideInLeft {
    from {
        transform: translateX(-100%);
    }
    to {
        transform: translateX(0);
    }
}

.nav-links.active {
    animation: slideInLeft 0.3s forwards;
}
</style>
</head>
<body>
    <div class="loader">
        <div class="loader-content">
            <img src="/logo.png" alt="Shiva Fabrications Logo" class="loader-logo">
            <div class="loader-spinner"></div>
            <div class="loader-text">LOADING</div>
        </div>
    </div>

    <header>
        <div class="container">
            <div class="logo">
                <a href="/index.html">
                    <img src="/logo.png" alt="Shiva Fabrications Logo">
                </a>
            </div>
            <nav>
                <ul class="nav-links">
                    <li><a href="/index.html">Home</a></li>
                    <li><a href="/about.html">About Us</a></li>
                    <li><a href="/services.html">Services</a></li>
                    <li><a href="/projects.html">Projects</a></li>
                    <li><a href="/manpower.html">Manpower</a></li>
                    <li><a href="/contact.html">Contact</a></li>
                </ul>
                <div class="hamburger">
                    <div class="line"></div>
                    <div class="line"></div>
                    <div class="line"></div>
                </div>
            </nav>
        </div>
    </header>

    <div id="dynamic-content">
        <!-- Content will be loaded dynamically here -->
        <div class="page-loading">
            <div class="spinner"></div>
            <p>Loading content...</p>
        </div>
    </div>

    <div id="error-content" style="display: none;">
        <section class="error-section">
            <div class="container">
                <div class="error-content">
                    <h1>404</h1>
                    <h2>Page Not Found</h2>
                    <p>The page you are looking for doesn't exist or has been moved.</p>
                    <div class="error-actions">
                        <a href="/index.html" class="btn btn-primary">Go Home</a>
                        <a href="/projects.html" class="btn btn-secondary">View Projects</a>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Image Viewer Modal -->
    <div class="image-viewer-modal" id="imageViewerModal">
        <div class="image-viewer-content">
            <img src="" alt="Full size image" class="image-viewer-img" id="imageViewerImg">
            <button class="image-viewer-close" id="imageViewerClose">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-logo">
                    <img src="/logo.png" alt="Shiva Fabrications Logo">
                    <p>Excellence in industrial fabrication and installations.</p>
                </div>
                <div class="footer-links">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="/index.html">Home</a></li>
                        <li><a href="/about.html">About Us</a></li>
                        <li><a href="/services.html">Services</a></li>
                        <li><a href="/projects.html">Projects</a></li>
                        <li><a href="/manpower.html">Manpower</a></li>
                        <li><a href="/contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-services">
                    <h3>Our Services</h3>
                    <ul>
                        <li>Food Plants</li>
                        <li>Dairy Plants</li>
                        <li>GI, SS & MS Piping</li>
                        <li>Argon Welding</li>
                        <li>Manpower Supply</li>
                    </ul>
                </div>
                <div class="footer-contact">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> Maharashtra, Bharat mata nagar, ganesh colony no. 1</p>
                    <p><i class="fas fa-phone"></i> +91 8805954132</p>
                    <p><i class="fas fa-envelope"></i> shivfabricator1@gmail.com</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2023 Shiva Fabrications. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <button class="scroll-to-top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const API_URL = 'https://shivfabricator.onrender.com/api';
            const dynamicContent = document.getElementById('dynamic-content');
            const errorContent = document.getElementById('error-content');
            const imageViewerModal = document.getElementById('imageViewerModal');
            const imageViewerImg = document.getElementById('imageViewerImg');
            const imageViewerClose = document.getElementById('imageViewerClose');
            
            // Theme Toggle - Check for saved theme before any other operations
            const savedTheme = localStorage.getItem('theme') || 'dark';
            document.documentElement.setAttribute('data-theme', savedTheme);
            
            // Create theme toggle button
            const themeToggle = document.createElement('button');
            themeToggle.className = 'theme-toggle';
            themeToggle.innerHTML = savedTheme === 'light' ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
            themeToggle.setAttribute('aria-label', 'Toggle theme');
            themeToggle.setAttribute('title', savedTheme === 'light' ? 'Switch to dark theme' : 'Switch to light theme');
            document.body.appendChild(themeToggle);
            
            // Handle theme toggle
            themeToggle.addEventListener('click', function() {
                const currentTheme = document.documentElement.getAttribute('data-theme');
                const newTheme = currentTheme === 'light' ? 'dark' : 'light';
                
                // Update icon and title
                this.innerHTML = newTheme === 'light' ? '<i class="fas fa-moon"></i>' : '<i class="fas fa-sun"></i>';
                this.setAttribute('title', newTheme === 'light' ? 'Switch to dark theme' : 'Switch to light theme');
                
                // Apply theme
                document.documentElement.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Show toast notification
                showToast(
                    newTheme === 'light' ? 'Light Theme Activated' : 'Dark Theme Activated', 
                    `You've switched to ${newTheme} mode.`, 
                    'info'
                );
            });
            
            // Debug info
            console.log('Dynamic content loader initialized', {
                'Current URL': window.location.href,
                'Current Path': window.location.pathname,
                'Search Params': window.location.search
            });
            
            // Function to extract the path from the URL
            function getPath() {
                const path = window.location.pathname;
                console.log('Current path:', path);
                return path;
            }
            
            // Function to check if the current path is a project page
            function isProjectPage() {
                const path = getPath();
                const isProject = path.startsWith('/projects/') && path.length > 10;
                console.log('Is project page?', isProject);
                return isProject;
            }
            
            // Function to get the project slug from the URL
            function getProjectSlug() {
                const path = getPath();
                if (isProjectPage()) {
                    const slug = path.split('/projects/')[1];
                    console.log('Project slug:', slug);
                    return slug;
                }
                console.log('Not a project page, no slug');
                return null;
            }
            
            // Function to check if this is a feedback page
            function isFeedbackPage() {
                const urlParams = new URLSearchParams(window.location.search);
                const isFeedback = window.location.pathname === '/feedback' && urlParams.has('code');
                console.log('Is feedback page?', isFeedback);
                return isFeedback;
            }
            
            // Function to get the feedback code from the URL
            function getFeedbackCode() {
                const urlParams = new URLSearchParams(window.location.search);
                const code = urlParams.get('code');
                console.log('Feedback code:', code);
                return code;
            }
            
            // Function to check if this is a bill page
            function isBillPage() {
                const urlParams = new URLSearchParams(window.location.search);
                const isBill = window.location.pathname === '/bill' && urlParams.has('code');
                console.log('Is bill page?', isBill);
                return isBill;
            }
            
            // Function to get the bill code from the URL
            function getBillCode() {
                const urlParams = new URLSearchParams(window.location.search);
                const code = urlParams.get('code');
                console.log('Bill code:', code);
                return code;
            }
            
            // Load project details
            async function loadProject() {
                const slug = getProjectSlug();
                if (!slug) {
                    console.error('No project slug found');
                    showError();
                    return;
                }
                
                try {
                    console.log('Fetching project:', `${API_URL}/projects/${slug}`);
                    const response = await fetch(`${API_URL}/projects/${slug}`);
                    console.log('Response status:', response.status);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    
                    const project = await response.json();
                    console.log('Project data:', project);
                    renderProject(project);
                    
                    // Update page title and meta
                    document.title = `${project.title} - Shiva Fabrications`;
                    
                    // Load feedback if available
                    if (project.enable_feedback) {
                        loadFeedback(project);
                    }
                    
                    // Hide loader
                    const loader = document.querySelector('.loader');
                    if (loader) {
                        loader.classList.add('hidden');
                        setTimeout(() => loader.remove(), 500);
                    }

                    // Setup image viewer for gallery items
                    setupImageViewer();
                } catch (error) {
                    console.error('Error loading project:', error);
                    showError();
                }
            }
            
            // Render project details
            function renderProject(project) {
                // Create HTML for the project
                const projectHtml = `
                    <section class="project-header">
                        <div class="container">
                            <h1>${project.title}</h1>
                            <div class="project-meta">
                                <span><i class="fas fa-calendar-alt"></i> Completed: ${project.completed_year}</span>
                                <span><i class="fas fa-map-marker-alt"></i> Location: ${project.location}</span>
                                <span><i class="fas fa-tag"></i> Category: ${project.category}</span>
                            </div>
                        </div>
                    </section>
                    
                    <section class="project-details">
                        <div class="container">
                            <div class="project-content">
                                <div class="project-overview">
                                    <h2>Project Overview</h2>
                                    <p>${project.overview}</p>
                                </div>
                                
                                <div class="project-gallery" id="projectGallery">
                                    ${project.images.map(img => `
                                        <div class="gallery-item" data-image="${img}">
                                            <img src="${img}" alt="${project.title}">
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <div class="project-scope">
                                    <h2>Scope of Work</h2>
                                    <ul>
                                        ${project.scope_of_work.map(item => `<li>${item}</li>`).join('')}
                                    </ul>
                                </div>
                                
                                <div class="project-challenges">
                                    <h2>Challenges & Solutions</h2>
                                    ${project.challenges.map(item => `
                                        <div class="challenge-item">
                                            <h3>Challenge: ${item.challenge}</h3>
                                            <p>${item.solution}</p>
                                        </div>
                                    `).join('')}
                                </div>
                                
                                <div class="project-results">
                                    <h2>Results & Benefits</h2>
                                    <ul>
                                        ${project.results.map(item => `<li>${item}</li>`).join('')}
                                    </ul>
                                </div>
                                
                                <div class="project-feedback" id="projectFeedback">
                                    <h2>Client Testimonials</h2>
                                    <div class="feedback-loading">
                                        <div class="spinner"></div>
                                        <p>Loading feedback...</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="project-sidebar">
                                <div class="sidebar-widget">
                                    <h3>Project Specifications</h3>
                                    <ul class="spec-list">
                                        <li><strong>Category:</strong> ${project.category}</li>
                                        <li><strong>Location:</strong> ${project.location}</li>
                                        <li><strong>Completed:</strong> ${project.completed_year}</li>
                                    </ul>
                                </div>
                                
                                <div class="sidebar-widget">
                                    <h3>Need a Similar Solution?</h3>
                                    <p>Contact us to discuss your project requirements and how we can help you achieve your goals.</p>
                                    <a href="/contact.html" class="btn btn-primary">Contact Us</a>
                                </div>
                            </div>
                        </div>
                    </section>
                    
                    <section class="project-navigation">
                        <div class="container">
                            <div class="nav-links">
                                <a href="/projects.html" class="back-to-projects"><i class="fas fa-th-large"></i> Back to All Projects</a>
                            </div>
                        </div>
                    </section>
                `;
                
                // Set the content
                dynamicContent.innerHTML = projectHtml;
            }
            
            // Setup image viewer functionality
            function setupImageViewer() {
                const galleryItems = document.querySelectorAll('.gallery-item');
                
                // Add click event to each gallery item
                galleryItems.forEach(item => {
                    item.addEventListener('click', function() {
                        const imageSrc = this.getAttribute('data-image');
                        openImageViewer(imageSrc);
                    });
                });
                
                // Close image viewer when clicking the close button
                imageViewerClose.addEventListener('click', closeImageViewer);
                
                // Close image viewer when clicking outside the image
                imageViewerModal.addEventListener('click', function(e) {
                    if (e.target === imageViewerModal) {
                        closeImageViewer();
                    }
                });
                
                // Close image viewer when pressing escape key
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape' && imageViewerModal.classList.contains('active')) {
                        closeImageViewer();
                    }
                });
            }
            
            // Open image viewer with specified image
            function openImageViewer(imageSrc) {
                imageViewerImg.src = imageSrc;
                imageViewerModal.classList.add('active');
                document.body.style.overflow = 'hidden'; // Prevent scrolling
            }
            
            // Close image viewer
            function closeImageViewer() {
                imageViewerModal.classList.remove('active');
                document.body.style.overflow = ''; // Restore scrolling
                setTimeout(() => {
                    imageViewerImg.src = ''; // Clear image source after transition
                }, 300);
            }
            
            // Load feedback for a project
            async function loadFeedback(project) {
                try {
                    console.log('Fetching feedback:', `${API_URL}/public/feedback/${project.slug}`);
                    const response = await fetch(`${API_URL}/public/feedback/${project.slug}`);
                    console.log('Feedback response status:', response.status);
                    
                    if (!response.ok) {
                        throw new Error('Failed to load feedback');
                    }
                    
                    const feedback = await response.json();
                    console.log('Feedback data:', feedback);
                    const feedbackContainer = document.getElementById('projectFeedback');
                    
                    if (feedbackContainer) {
                        // Remove loading indicator
                        feedbackContainer.querySelector('.feedback-loading').remove();
                        
                        if (feedback.length === 0) {
                            // No feedback yet
                            feedbackContainer.innerHTML += `
                                <div class="no-feedback">
                                    <i class="fas fa-comments"></i>
                                    <p>No testimonials available for this project yet.</p>
                                </div>
                            `;
                        } else {
                            // Render feedback
                            feedback.forEach(item => {
                                const testimonialHtml = `
                                    <div class="testimonial-card">
                                        <div class="quote-icon">
                                            <i class="fas fa-quote-left"></i>
                                        </div>
                                        <div class="rating">
                                            ${generateStarRating(item.rating)}
                                        </div>
                                        <p class="testimonial-text">${item.text}</p>
                                        <div class="client-info">
                                            <h4>${item.author_name}</h4>
                                            <p>${item.company_name}</p>
                                        </div>
                                    </div>
                                `;
                                
                                feedbackContainer.innerHTML += testimonialHtml;
                            });
                        }
                    }
                } catch (error) {
                    console.error('Error loading feedback:', error);
                    const feedbackContainer = document.getElementById('projectFeedback');
                    if (feedbackContainer) {
                        // Remove loading indicator
                        feedbackContainer.querySelector('.feedback-loading').remove();
                        
                        // Show error message
                        feedbackContainer.innerHTML += `
                            <div class="no-feedback">
                                <i class="fas fa-exclamation-circle"></i>
                                <p>Unable to load testimonials at this time.</p>
                            </div>
                        `;
                    }
                }
            }
            
            // Load bill details
            async function loadBill() {
                const code = getBillCode();
                if (!code) {
                    console.error('No bill code found');
                    showError();
                    return;
                }
                
                try {
                    console.log('Fetching bill:', `${API_URL}/public/bill/${code}`);
                    const response = await fetch(`${API_URL}/public/bill/${code}`);
                    console.log('Response status:', response.status);
                    
                    if (!response.ok) {
                        throw new Error(`HTTP error! Status: ${response.status}`);
                    }
                    
                    const bill = await response.json();
                    console.log('Bill data:', bill);
                    renderBill(bill);
                    
                    // Update page title
                    document.title = `Invoice #${bill.invoice_no} - Shiva Fabrications`;
                    
                    // Hide loader
                    const loader = document.querySelector('.loader');
                    if (loader) {
                        loader.classList.add('hidden');
                        setTimeout(() => loader.remove(), 500);
                    }
                } catch (error) {
                    console.error('Error loading bill:', error);
                    showError();
                }
            }
            
            // Render bill details
            function renderBill(bill) {
                // Create HTML for the bill
                const billHtml = `
                    <div class="bill-container" id="printableArea">
                        <div class="bill-header">
                            <div class="bill-header-content">
                                <div class="bill-company">
                                    <h2>SHIVA FABRICATION</h2>
                                    <p>Survey No.76, Bharat Mata Nagar, Dighi, Pune -411015</p>
                                    <p>Contact: 8805954132 / 9096553951</p>
                                    <p>Email: shivfabricator1@gmail.com</p>
                                </div>
                                <div class="bill-title">
                                    <h1>INVOICE</h1>
                                    <p><strong>Invoice No:</strong> ${bill.invoice_no}</p>
                                    <p><strong>Date:</strong> ${bill.date}</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bill-details">
                            <div class="bill-info-row">
                                <div class="bill-to">
                                    <h3>Bill To</h3>
                                    <p><strong>${bill.bill_to}</strong></p>
                                    <p>${bill.bill_to_address}</p>
                                </div>
                                
                                <div class="bill-meta">
                                    <h3>Invoice Details</h3>
                                    ${bill.company_pan ? `<div class="bill-meta-item">
                                        <span class="bill-meta-label">Company PAN:</span>
                                        <span class="bill-meta-value">${bill.company_pan}</span>
                                    </div>` : ''}
                                    
                                    ${bill.suppliers_ref_no ? `<div class="bill-meta-item">
                                        <span class="bill-meta-label">Supplier's Ref No:</span>
                                        <span class="bill-meta-value">${bill.suppliers_ref_no}</span>
                                    </div>` : ''}
                                    
                                    ${bill.buyers_order_no ? `<div class="bill-meta-item">
                                        <span class="bill-meta-label">Buyer's Order No:</span>
                                        <span class="bill-meta-value">${bill.buyers_order_no}</span>
                                    </div>` : ''}
                                    
                                    ${bill.other_terms ? `<div class="bill-meta-item">
                                        <span class="bill-meta-label">Other Terms:</span>
                                        <span class="bill-meta-value">${bill.other_terms}</span>
                                    </div>` : ''}
                                </div>
                            </div>
                            
                            <div class="bill-items">
                                <table>
                                    <thead>
                                        <tr>
                                            <th>Sr.No.</th>
                                            <th>HSN/SAC</th>
                                            <th>Description</th>
                                            <th>Qty</th>
                                            <th>Unit</th>
                                            <th class="text-right">Rate</th>
                                            <th class="text-right">Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        ${bill.items.map(item => `
                                            <tr>
                                                <td>${item.sr_no}</td>
                                                <td>${item.hsn_code || '-'}</td>
                                                <td>${item.description}</td>
                                                <td>${item.qty || '-'}</td>
                                                <td>${item.unit || '-'}</td>
                                                <td class="text-right">₹${item.rate.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
                                                <td class="text-right">₹${item.amount.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                            
                            <div class="bill-total">
                                <div class="bill-total-row">
                                    <div class="bill-total-label">Sub Total:</div>
                                    <div class="bill-total-value">₹${bill.sub_total.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                                </div>
                                
                                ${bill.gst ? `<div class="bill-total-row">
                                    <div class="bill-total-label">GST:</div>
                                    <div class="bill-total-value">₹${bill.gst.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                                </div>` : ''}
                                
                                ${bill.round_off ? `<div class="bill-total-row">
                                    <div class="bill-total-label">Round Off:</div>
                                    <div class="bill-total-value">₹${bill.round_off.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                                </div>` : ''}
                                
                                <div class="bill-total-row">
                                    <div class="bill-total-label bill-grand-total">Grand Total:</div>
                                    <div class="bill-total-value bill-grand-total">₹${bill.grand_total.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}</div>
                                </div>
                            </div>
                            
                            <div class="bill-words">
                                <strong>Amount in words:</strong> ${bill.amount_in_words}
                            </div>
                            
                            <div class="bill-footer">
                                <div class="bill-signature">
                                    <div class="bill-signature-title">Customer Seal and Signature</div>
                                    <div class="bill-signature-line"></div>
                                </div>
                                
                                <div class="bill-signature">
                                    <div class="bill-signature-title">For SHIVA FABRICATION</div>
                                    <div class="bill-signature-line"></div>
                                    <div class="bill-signature-name">Proprietor</div>
                                </div>
                            </div>
                            
                            <div class="bill-bank">
                                <h3>Bank Details</h3>
                                <p>Name of the Beneficiary: SHIVA FABRICATION</p>
                                <p>A/C NO. 110504180001097</p>
                                <p>IFSC CODE: SVCB0000105</p>
                            </div>
                            
                            <div class="bill-notes">
                                <p><strong>Declaration:</strong> We declare that this invoice shows the actual price of the labour work described and that all particulars are true and correct.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="bill-actions">
                        <a href="https://shivfabricator.onrender.com${bill.download_url}" class="btn-download" target="_blank">
                            <i class="fas fa-download"></i> Download PDF
                        </a>
                        <button class="btn-print" onclick="printBill()">
                            <i class="fas fa-print"></i> Print Invoice
                        </button>
                    </div>
                    
                    ${bill.feedback_url ? `
                        <div class="feedback-link">
                            <p>We value your feedback! Please share your experience with our services.</p>
                            <a href="${bill.feedback_url}" target="_blank">Provide Feedback</a>
                        </div>
                    ` : ''}
                `;
                
                // Set the content
                dynamicContent.innerHTML = billHtml;
                
                // Add print function to window
                window.printBill = function() {
                    window.print();
                };
            }
            
            // Load feedback submission form
            async function loadFeedbackForm() {
                const code = getFeedbackCode();
                if (!code) {
                    console.error('No feedback code found');
                    showError();
                    return;
                }
                
                try {
                    // First, fetch the project details associated with this feedback code
                    const projectResponse = await fetch(`${API_URL}/feedback/code-info/${code}`, {
                        method: 'GET',
                        headers: {
                            'Content-Type': 'application/json'
                        }
                    }).catch(err => {
                        console.error('Error fetching project info:', err);
                        return { ok: false };
                    });
                    
                    let projectName = '';
                    let serviceType = '';
                    
                    if (projectResponse && projectResponse.ok) {
                        const projectData = await projectResponse.json();
                        projectName = projectData.project_name || '';
                        serviceType = projectData.service_type || '';
                    }
                    

                    
                    dynamicContent.innerHTML = `
                        <section class="page-header">
                            <div class="container">
                                <h1>Submit Your Feedback</h1>
                                <p>We value your opinion on our work</p>
                            </div>
                        </section>
                        
                        <section class="feedback-form-section">
                            <div class="container">
                                <div class="feedback-form-container">
                                    <div class="form-header">
                                        <h2>Share Your Experience</h2>
                                        ${projectName ? `<p>Please tell us about your experience with our <strong>${projectName}</strong> service.</p>` : 
                                           `<p>Please tell us about your experience working with Shiva Fabrications.</p>`}
                                    </div>
                                    <form id="feedbackForm" class="feedback-form">
                                        <input type="hidden" id="feedbackCode" value="${code}">
                                        <input type="hidden" id="projectName" value="${projectName}">
                                        <input type="hidden" id="serviceType" value="${serviceType}">
                                        
                                        <div class="form-group">
                                            <label for="companyName">Company Name*</label>
                                            <input type="text" id="companyName" name="companyName" required>
                                        </div>
                                        
                                        <div class="form-group">
                                            <label for="authorName">Your Name*</label>
                                            <input type="text" id="authorName" name="authorName" required>
                                        </div>
                                        
                                        <div class="form-group full-width">
                                            <label for="rating">How would you rate our service? (1-5)*</label>
                                            <div class="rating-selector">
                                                <div class="star-rating">
                                                    <i class="far fa-star" data-rating="1"></i>
                                                    <i class="far fa-star" data-rating="2"></i>
                                                    <i class="far fa-star" data-rating="3"></i>
                                                    <i class="far fa-star" data-rating="4"></i>
                                                    <i class="far fa-star" data-rating="5"></i>
                                                </div>
                                                <input type="hidden" id="rating" name="rating" value="" required>
                                                <div class="rating-text">Select a rating</div>
                                            </div>
                                        </div>
                                        
                                        <div class="form-group full-width">
                                            <label for="feedbackText">Your Feedback*</label>
                                            <textarea id="feedbackText" name="feedbackText" rows="6" required></textarea>
                                        </div>
                                        
                                        <div class="form-group full-width">
                                            <button type="submit" class="btn btn-primary">Submit Feedback</button>
                                        </div>
                                    </form>
                                    <div class="form-success" style="display: none;">
                                        <div class="success-icon">
                                            <i class="fas fa-check-circle"></i>
                                        </div>
                                        <h2>Thank You for Your Feedback!</h2>
                                        <p>Your feedback has been submitted successfully. We appreciate you taking the time to share your experience with us.</p>
                                        <a href="/index.html" class="btn btn-primary">Back to Home</a>
                                    </div>
                                </div>
                            </div>
                        </section>
                    `;
                    
                    // Setup star rating functionality
                    const stars = document.querySelectorAll('.star-rating i');
                    const ratingInput = document.getElementById('rating');
                    const ratingText = document.querySelector('.rating-text');
                    
                    stars.forEach(star => {
                        star.addEventListener('mouseover', function() {
                            const rating = this.getAttribute('data-rating');
                            highlightStars(rating);
                        });
                        
                        star.addEventListener('mouseout', function() {
                            const currentRating = ratingInput.value || 0;
                            highlightStars(currentRating);
                        });
                        
                        star.addEventListener('click', function() {
                            const rating = this.getAttribute('data-rating');
                            ratingInput.value = rating;
                            highlightStars(rating);
                            updateRatingText(rating);
                        });
                    });
                    
                    function highlightStars(rating) {
                        stars.forEach(star => {
                            const starRating = star.getAttribute('data-rating');
                            if (starRating <= rating) {
                                star.className = 'fas fa-star';
                            } else {
                                star.className = 'far fa-star';
                            }
                        });
                    }
                    
                    function updateRatingText(rating) {
                        const texts = [
                            'Select a rating',
                            'Poor',
                            'Fair',
                            'Good',
                            'Very Good',
                            'Excellent'
                        ];
                        ratingText.textContent = texts[rating] || texts[0];
                    }
                    
                    // Setup form submission
                    const feedbackForm = document.getElementById('feedbackForm');
                    feedbackForm.addEventListener('submit', async function(e) {
                        e.preventDefault();
                        
                        const submitBtn = feedbackForm.querySelector('button[type="submit"]');
                        const originalText = submitBtn.textContent;
                        submitBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Submitting...';
                        submitBtn.disabled = true;
                        
                        const formData = {
                            company_name: document.getElementById('companyName').value,
                            author_name: document.getElementById('authorName').value,
                            rating: parseInt(document.getElementById('rating').value),
                            text: document.getElementById('feedbackText').value,
                            feedback_code: document.getElementById('feedbackCode').value,
                            project_name: document.getElementById('projectName').value,
                            service_type: document.getElementById('serviceType').value
                        };
                        
                        try {
                            console.log('Submitting feedback:', formData);
                            const response = await fetch(`${API_URL}/feedback`, {
                                method: 'POST',
                                headers: {
                                    'Content-Type': 'application/json'
                                },
                                body: JSON.stringify(formData)
                            });
                            
                            console.log('Feedback submission response:', response.status);
                            
                            if (!response.ok) {
                                throw new Error(`HTTP error! Status: ${response.status}`);
                            }
                            
                            // Show success message
                            feedbackForm.style.display = 'none';
                            document.querySelector('.form-success').style.display = 'block';
                            document.querySelector('.form-header').style.display = 'none';
                            
                        } catch (error) {
                            console.error('Error submitting feedback:', error);
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                            alert('There was an error submitting your feedback. Please try again.');
                        }
                    });
                    
                    // Update page title and meta
                    document.title = 'Submit Feedback - Shiva Fabrications';
                    
                    // Hide loader
                    const loader = document.querySelector('.loader');
                    if (loader) {
                        loader.classList.add('hidden');
                        setTimeout(() => loader.remove(), 500);
                    }
                    
                } catch (error) {
                    console.error('Error loading feedback form:', error);
                    showError();
                }
            }
            
            // Generate star rating HTML
            function generateStarRating(rating) {
                let stars = '';
                for (let i = 1; i <= 5; i++) {
                    if (i <= rating) {
                        stars += '<i class="fas fa-star"></i>';
                    } else {
                        stars += '<i class="far fa-star"></i>';
                    }
                }
                return stars;
            }
            
            // Show error content
            function showError() {
                console.log('Showing error content');
                dynamicContent.style.display = 'none';
                errorContent.style.display = 'block';
                
                // Hide loader
                const loader = document.querySelector('.loader');
                if (loader) {
                    loader.classList.add('hidden');
                    setTimeout(() => loader.remove(), 500);
                }
            }
            
            // Toast notification function
            function showToast(title, message, type = 'info') {
                // Create toast element
                const toast = document.createElement('div');
                toast.className = 'toast';
                
                // Set icon based on type
                let icon = 'info-circle';
                if (type === 'success') icon = 'check-circle';
                if (type === 'error') icon = 'exclamation-circle';
                if (type === 'warning') icon = 'exclamation-triangle';
                
                toast.innerHTML = `
                    <div class="toast-icon">
                        <i class="fas fa-${icon}"></i>
                    </div>
                    <div class="toast-content">
                        <div class="toast-title">${title}</div>
                        <div class="toast-message">${message}</div>
                    </div>
                    <div class="toast-close">
                        <i class="fas fa-times"></i>
                    </div>
                `;
                
                // Add to body
                document.body.appendChild(toast);
                
                // Show toast
                setTimeout(() => {
                    toast.classList.add('show');
                }, 100);
                
                // Close toast when clicking close button
                toast.querySelector('.toast-close').addEventListener('click', () => {
                    toast.classList.remove('show');
                    setTimeout(() => {
                        toast.remove();
                    }, 300);
                });
                
                // Auto-close after 5 seconds
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        toast.classList.remove('show');
                        setTimeout(() => {
                            if (document.body.contains(toast)) {
                                toast.remove();
                            }
                        }, 300);
                    }
                }, 5000);
            }
            
            // Initialize the page based on the URL
            function initializePage() {
                console.log('Initializing page');
                if (isProjectPage()) {
                    console.log('Loading project page');
                    loadProject();
                } else if (isFeedbackPage()) {
                    console.log('Loading feedback form');
                    loadFeedbackForm();
                } else if (isBillPage()) {
                    console.log('Loading bill page');
                    loadBill();
                } else {
                    console.log('No special page type detected, showing error');
                    showError();
                }
            }
            
            // Handle mobile menu toggle
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');
            
            if (hamburger) {
                // Add close button to mobile nav
                const closeBtn = document.createElement('button');
                closeBtn.className = 'mobile-nav-close';
                closeBtn.innerHTML = '<i class="fas fa-times"></i>';
                closeBtn.setAttribute('aria-label', 'Close menu');
                
                // Only add the close button if it doesn't already exist
                if (!navLinks.querySelector('.mobile-nav-close')) {
                    navLinks.insertBefore(closeBtn, navLinks.firstChild);
                }
                
                hamburger.addEventListener('click', () => {
                    hamburger.classList.toggle('active');
                    navLinks.classList.toggle('active');
                    document.body.classList.toggle('no-scroll');
                    
                    // If sidebar is opening, add overlay
                    if (navLinks.classList.contains('active')) {
                        const overlay = document.createElement('div');
                        overlay.className = 'mobile-nav-overlay';
                        document.body.appendChild(overlay);
                        
                        // Close menu when clicking on overlay
                        overlay.addEventListener('click', closeMobileMenu);
                    } else {
                        // Remove overlay when closing
                        const overlay = document.querySelector('.mobile-nav-overlay');
                        if (overlay) overlay.remove();
                    }
                });
                
                // Close button functionality
                closeBtn.addEventListener('click', closeMobileMenu);
            }
            
            // Close mobile nav when clicking on a nav link
            const navItems = document.querySelectorAll('.nav-links a');
            navItems.forEach(item => {
                item.addEventListener('click', closeMobileMenu);
            });
            
            // Function to close mobile menu
            function closeMobileMenu() {
                const hamburger = document.querySelector('.hamburger');
                const navLinks = document.querySelector('.nav-links');
                const overlay = document.querySelector('.mobile-nav-overlay');
                
                if (hamburger && hamburger.classList.contains('active')) {
                    hamburger.classList.remove('active');
                    navLinks.classList.remove('active');
                    document.body.classList.remove('no-scroll');
                    
                    // Remove overlay
                    if (overlay) overlay.remove();
                }
            }
            
            // Scroll to top button
            const scrollToTopBtn = document.querySelector('.scroll-to-top');
            
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 300) {
                    scrollToTopBtn.classList.add('show');
                } else {
                    scrollToTopBtn.classList.remove('show');
                }
            });
            
            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
            
            // Start the page initialization
            initializePage();
        });
    </script>
</body>
</html>
                                
